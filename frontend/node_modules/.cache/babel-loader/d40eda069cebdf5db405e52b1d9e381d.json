{"ast":null,"code":"import _regeneratorRuntime from \"D:/git/likeme/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"D:/git/likeme/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"D:/git/likeme/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/git/likeme/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"D:\\\\git\\\\likeme\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport Form from \"./components/Form\";\nimport Post from \"./components/Post\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { UseNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar urlBaseServer = \"http://localhost:3002\";\nfunction App() {\n  _s();\n  var _this = this;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    titulo = _useState2[0],\n    setTitulo = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    img = _useState4[0],\n    setImg = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    descripcion = _useState6[0],\n    setDescripcion = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    posts = _useState8[0],\n    setPosts = _useState8[1];\n  var getPosts = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _yield$axios$get, posts;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(urlBaseServer + \"/posts\");\n          case 2:\n            _yield$axios$get = _context.sent;\n            posts = _yield$axios$get.data;\n            setPosts(_toConsumableArray(posts));\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function getPosts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var agregarPost = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var post;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            post = {\n              titulo: titulo,\n              img: img,\n              descripcion: descripcion\n            };\n            _context2.next = 3;\n            return axios.post(urlBaseServer + \"/posts\", post);\n          case 3:\n            alert(\"El post \".concat(titulo, \" se ha agregado correctamente\"));\n            window.open('/', '_self');\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function agregarPost() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var like = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id) {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axios.put(urlBaseServer + \"/posts/like/\".concat(id));\n          case 2:\n            getPosts();\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function like(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var eliminarPost = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id) {\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return axios.delete(urlBaseServer + \"/posts/\".concat(id));\n          case 2:\n            getPosts();\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n    return function eliminarPost(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getPosts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"py-5 text-center\",\n      children: \"\\uD83D\\uDCF8 Like Me \\uD83D\\uDCF8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row m-auto px-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-sm-4\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          setTitulo: setTitulo,\n          setImgSRC: setImg,\n          setDescripcion: setDescripcion,\n          agregarPost: agregarPost\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-sm-8 px-5 row posts align-items-start\",\n        children: posts.map(function (post, i) {\n          return /*#__PURE__*/_jsxDEV(Post, {\n            post: post,\n            like: like,\n            eliminarPost: eliminarPost\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ZQEohCaofoaeOI2dOYE84Cdb8qE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Form","Post","useState","axios","useEffect","UseNavigate","jsxDEV","_jsxDEV","urlBaseServer","App","_s","_this","_useState","_useState2","_slicedToArray","titulo","setTitulo","_useState3","_useState4","img","setImg","_useState5","_useState6","descripcion","setDescripcion","_useState7","_useState8","posts","setPosts","getPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","wrap","_callee$","_context","prev","next","get","sent","data","_toConsumableArray","stop","apply","arguments","agregarPost","_ref2","_callee2","post","_callee2$","_context2","alert","concat","window","open","like","_ref3","_callee3","id","_callee3$","_context3","put","_x","eliminarPost","_ref4","_callee4","_callee4$","_context4","delete","_x2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","setImgSRC","map","i","_c","$RefreshReg$"],"sources":["D:/git/likeme/frontend/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Form from \"./components/Form\";\nimport Post from \"./components/Post\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\n\nimport { UseNavigate} from 'react-router-dom';\n\n\nconst urlBaseServer = \"http://localhost:3002\";\n\nfunction App() {\n\n  const [titulo, setTitulo] = useState(\"\");\n  const [img, setImg] = useState(\"\");\n  const [descripcion, setDescripcion] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n\n  const getPosts = async () => {\n    const { data: posts } = await axios.get(urlBaseServer + \"/posts\");\n    setPosts([...posts]);\n  };\n\n  const agregarPost = async () => {\n    const post = { titulo, img, descripcion };\n    await axios.post(urlBaseServer + \"/posts\", post);\n    alert(`El post ${titulo} se ha agregado correctamente`);\n   \n    window.open('/', '_self');\n  };\n\n  const like = async (id) => {\n    await axios.put(urlBaseServer + `/posts/like/${id}`);\n    getPosts();  \n  };\n\n  const eliminarPost = async (id) => {\n    await axios.delete(urlBaseServer + `/posts/${id}`);\n    getPosts();\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h2 className=\"py-5 text-center\">&#128248; Like Me &#128248;</h2>\n      <div className=\"row m-auto px-5\">\n        <div className=\"col-12 col-sm-4\">\n          <Form\n            setTitulo={setTitulo}\n            setImgSRC={setImg}\n            setDescripcion={setDescripcion}\n            agregarPost={agregarPost}\n          />\n        </div>\n        <div className=\"col-12 col-sm-8 px-5 row posts align-items-start\">\n          {posts.map((post, i) => (\n            <Post key={i} post={post} like={like} eliminarPost={eliminarPost} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}